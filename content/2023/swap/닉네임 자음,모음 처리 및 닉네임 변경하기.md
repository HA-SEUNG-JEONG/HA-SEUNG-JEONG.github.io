---
emoji: ğŸ”®
title: ë‹‰ë„¤ì„ ììŒ,ëª¨ìŒ ì²˜ë¦¬ ë° ë‹‰ë„¤ì„ ë³€ê²½í•˜ê¸°
date: '2023-02-01 00:00:00'
author: ì •í•˜ìŠ¹
tags: ë¸”ë¡œê·¸ github-pages gatsby
categories: swap
---

ë‹‰ë„¤ì„ ë³€ê²½ ë° ì´ˆì„±ì— ëŒ€í•œ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œ ì‘ì—…ì„ í–ˆë‹¤.

ì½”ë“œê°€ ë” ê¸¸ê¸´ í•œë° í•„ìš”í•œ ë¶€ë¶„ë§Œ ê°€ì ¸ì™”ë‹¤.

```tsx
interface NickNameProps {
  nickName: string;
}

const Profile = () => {
  const [isOpen, setIsOpen] = useRecoilState(profileImage);
  const userObj = sessionUserData();
  const [nickName, setNickName] = useState(userObj.displayName);

  const {
    register,
    handleSubmit,
    formState: { errors, isSubmitted },
    setValue,
  } = useForm<NickNameProps>({ mode: 'onChange' }); // mode: 'onChange' => ì‚¬ìš©ìì—ê²Œ ì‹¤ì‹œê°„ìœ¼ë¡œ í”¼ë“œë°± ì œê³µ

  const onValid = async ({ nickName }: NickNameProps) => {
    const auth = getAuth(); // ì¸ì¦ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    if (auth.currentUser) { // authì— í˜„ì¬ ìœ ì € ì •ë³´ê°€ ìˆì„ ë•Œ ìƒˆë¡œ ì…ë ¥í•œ ë‹‰ë„¤ì„ì„ displayNameìœ¼ë¡œ ì„¤ì •
      await updateProfile(auth.currentUser, {
        displayName: nickName,
      });
      setNickName(nickName); // ë‹‰ë„¤ì„ ì—…ë°ì´íŠ¸
    }
  };

  const onChange = (event: ChangeEvent<HTMLInputElement>) => {
    const {
      target: { value },
    } = event;

    //setNickName í•¨ìˆ˜ í˜¸ì¶œë¡œ ì…ë ¥í•œ ê°’ì„ ì—…ë°ì´íŠ¸í•œ ë‹¤ìŒì—
    //setValue í•¨ìˆ˜ë¥¼ í†µí•´ì„œ nickName í•„ë“œì— ëŒ€í•œ ê°’ì„ ì§‘ì–´ë„£ì–´ì•¼ í•œë‹¤.
    setNickName(value);
    setValue('nickName', value);
  };

  const handleIconClick = () => {
    setIsOpen((current) => !current);
  };

  return (
    <SwapContainer>
      <SideBar />
      <MainContainer>
        <ProfileContainer>
        <InputContainer>
          <Form onSubmit={handleSubmit(onValid)}>
            <Label htmlFor="nickname">ë‹‰ë„¤ì„</Label>
            <StyleContainer>
              <input
                type="text"
                {...register('nickName', {
                  required: true,
                  minLength: 2,
                  maxLength: 5,
                  pattern: /([0-9a-zA-Zê°€-í£\x20])/i, //ì´ˆì„± ë¯¸í¬í•¨
                })}
              />
              /*input íƒœê·¸ì— ìˆëŠ” patternê³¼ errors.nickName?.typeì´ patternì¸ì§€ maxLength ì¸ì§€ ë“±ë“±ì„ í™•ì¸ì‹œì¼œì£¼ëŠ” ì¥ì¹˜ê°€ ë”°ë¡œ ë§ˆë ¨ë˜ì–´ìˆë‹¤.*/
              {errors.nickName?.type === 'pattern' ? (
                <ErrorMessage>ì´ˆì„±ì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</ErrorMessage>
              ) : null}
              <Button type="submit">ìˆ˜ì •</Button>
            </StyleContainer>
          </Form>
        </InputContainer>
      </MainContainer>
    </SwapContainer>
  );
};

```

ë‹‰ë„¤ì„ ì´ˆì„± ì²˜ë¦¬ë¥¼ í•˜ë©´ì„œ ì¡°ê¸ˆ ì‚½ì§ˆì„ í•œ ê±° ê°™ë‹¤...

```tsx
errors.nickName?.type === 'pattern';
```

ì´ë ‡ê²Œ `type`ì´ë¼ëŠ” ì¹œêµ¬ëŠ” ì‚¬ì‹¤ ì‚¬ìš©í•´ ë³¸ ì ì´ ê±°ì˜ ì—†ê³  í•­ìƒ `errors.nickname.message` í˜•íƒœë¡œë§Œ ì‚¬ìš©í•´ë³¸ í„°ë¼ ì¡°ê¸ˆ ìµìˆ™ì¹˜ ì•Šì€ ê²ƒë„ ìˆì—ˆë‹¤.

ì§€ê¸ˆ ì´ ê¸€ì„ ì“°ëŠ” ì´ìœ ë„ ê¸°ë¡í•´ë‘ê¸° ìœ„í•´ì„œë‹¤.

ê·¸ë¦¬ê³  ì¢‹ì•˜ë˜ ì ì€

```tsx
errors.nickName?.type;
```

ì´ ì–´ë–¤ ValidatioRule(ë¬¸ì„œì— ì´ë ‡ê²Œ ë‚˜ì™€ìˆë‹¤.)ì¸ì§€(maxLength,minLength,pattern ë“±ë“±) í™•ì¸ì„ ì‹œì¼œì£¼ê¸° ë•Œë¬¸ì— ìë™ì™„ì„±ë„ ë˜ê³  í¸ë¦¬í•˜ë‹¤.

ê·¸ë¦¬ê³  ììŒ,ëª¨ìŒì— ëŒ€í•œ ì²˜ë¦¬ë„ ì¡°ê¸ˆ ì• ë¥¼ ë¨¹ì—ˆëŠ”ë° ì •ê·œì‹ í…ŒìŠ¤íŠ¸ ì‚¬ì´íŠ¸ì—ì„œ ì§ì ‘ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ë‹ˆê¹Œ ìµìˆ™í•´ì§€ëŠ” ê±° ê°™ë‹¤.

```tsx
/([0-9a-zA-Zê°€-í£\x20])/i;
```

ìœ„ì™€ ê°™ì´ patternì„ ëª…ì‹œí•˜ë©´ ììŒ,ëª¨ìŒìœ¼ë¡œ êµ¬ì„±ëœ ë‹‰ë„¤ì„ì€ ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ê³  ë©”ì‹œì§€ë¥¼ ë„ì›Œì¤„ ìˆ˜ ìˆë‹¤.
